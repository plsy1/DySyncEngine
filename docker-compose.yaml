services:
  dysyncengine:
    build: .
    image: dysyncengine:latest
    container_name: dysyncengine
    ports:
      - "80:80"
    volumes:
      # Persistent database folder
      - ./data:/app/backend/data
      # Downloaded videos/assets
      - ./videos:/app/videos
      # Custom config (optional, can also use env vars)
      # - ./config.yaml:/app/config.yaml
    environment:
      - PORT=80
      - PYTHONUNBUFFERED=1
      # Example ENV overrides for config.yaml
      - SAVE_DIR=videos
      - BASE_API_URL=http://10.1.1.6
    restart: unless-stopped
